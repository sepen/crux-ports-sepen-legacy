# $Id: $
# Description:  Gambas graphical QT toolkit opengl component
# URL:          http://gambasdl.sourceforge.net/
# Maintainer:   Jose V Beneyto, joberui at ei dot upv dot es
# Packager:     Jose V Beneyto, joberui at ei dot upv dot es
# Depends on:   gambas-gb-qt

name=gambas-gb-qt-opengl
version=1.9.28
release=2
source=(http://dl.sourceforge.net/sourceforge/gambas/gambas2-$version.tar.bz2)

build() {
	install -d $PKG/usr/bin
	ln -sf /usr/bin/gb*2 $PKG/usr/bin
	cd gambas2-$version/gb.qt
	./reconf
	export QTDIR=/usr/lib/qt
        ./configure --prefix=/usr \
                    --enable-qt \
                    --disable-qteditor \
                    --disable-qtext \
                    --enable-qtopengl
	make
	make DESTDIR=$PKG install
	rm -rf $PKG/usr/bin
        rm -rf $PKG/usr/lib/gambas2/{gb.qt.gambas,gb.qt.component*,gb.qt.la,gb.qt.so*,gb.qt.ext*,gb.qt.editor*}
        rm -rf $PKG/usr/share/gambas2/info/{gb.qt.info,gb.qt.list,gb.qt.ext*,gb.qt.editor*}
}
